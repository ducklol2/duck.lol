<!DOCTYPE html>
<html lang="en">

<head>
  <title>ðŸ¦†.lol</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <style>
    * {
      box-sizing: border-box;
      border: 1px solid black;
      font-family: "Roboto", sans-serif;
    }

    html {
      background-color: Gainsboro;
    }

    body {
      max-width: 800px;
      margin: auto;
      background-color: Silver;
    }

    header {
      background-color: rgb(219, 231, 243);
      color: rgb(61, 32, 9);
      padding: 30px;
    }

    h1,
    h2,
    h5 {
      text-align: center;
    }

    nav {
      display: flex;
      justify-content: space-around;
    }

    article {
      padding: 20px;
    }
  </style>
</head>

<body>
  <header>
    <h1>ðŸ¦†.lol</h1>
    <nav>
      <h3><a href="https://github.com/ducklol2/" target="_blank">Github</a></h3>
      <h3><a href="https://hachyderm.io/@duck_lol" target="_blank">Mastodon</a></h3>
      <h3><a href="https://news.ycombinator.com/user?id=ducklol" target="_blank">Hacker News</a></h3>
    </nav>
  </header>
  <article>
    <h2>Service Workers as a server</h2>
    <h5>July 22nd, 2023</h5>
    <p>
      Service workers make websites work offline (or more efficiently!),
      intercepting network requests and typically storing and retrieving responses
      in the Cache API. Often, some of the application logic is shared between
      the server and service worker.
    </p>
    <p>
      But what if all the logic were only in the service worker, though?
      No server logic?
    </p>
    <p>
      Although I can't think of a great reason to do this, I thought it was a nifty
      idea and decided to build it. It could be useful for quick prototyping - there's
      hundreds of web code "playgrounds" that let you write and test HTML/CSS/JS live,
      and there's even some that run your code as an HTTP handler - from a server they
      spin up for you. But you could run this from a service worker instead, and then
      all you need to serve are some static pages! And your precious prototype code
      never leaves your computer :)
    </p>
    <p>
      I haven't come across a code playground that does this, but if it's been done,
      I'd love to hear about it!
    </p>
    <p>
      Of course, there's a lot of differences between the browser and Node environments,
      so you can't just, say, import Express, prototype a quick app, export it & run it
      locally. I could imagine developing a similar request handling API that would let
      the same code work with a common server framework. For now, my API requires you to
      export two values (it runs as a module):
      <ul>
        <li><b>paths</b>: A list of regular expressions for the paths to handle.</li>
        <li>
          <b>handle</b>: A function that accepts a request object and returns a response
          object. See the example loaded in the app for the fields. This function can be
          async!
        </li>
      </ul>
    </p>
    <p>TODO: Link to app</p>
  </article>
  <article>
    <h2>WebRTC without a server</h2>
    <h5>July 22nd, 2023</h5>
    <p>Text of the article</p>
    <p>More text!</p>
  </article>
</body>

</html>